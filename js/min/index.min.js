var addErrorMessage,decryptMessage,displayDecryptedMessage,encryptMessage,removeErrors,switchPanes,validateDecryptForm,validateEncryptForm,validateFields;$(function(){return $("#encrypt-button").click(function(){return validateEncryptForm()?($("#share-link").val(encryptMessage),switchPanes("#pane1","#pane2"),$("#share-link").select(),$("#share-link").click(function(){return $(this).select()})):void 0}),$("#decrypt-button").click(function(){return switchPanes("#pane1","#pane2"),validateDecryptForm()?setTimeout(displayDecryptedMessage,2e3):void switchPanes("#pane2","#pane1")})}),displayDecryptedMessage=function(){var a;return a=decryptMessage(),""===a?(switchPanes("#pane2","#pane1"),addErrorMessage("#secret-message","Incorrect key")):(switchPanes("#pane2","#pane3"),$("#secret-message").append(a))},validateDecryptForm=function(){var a;return removeErrors(),a={"#secret-key-input":"You must enter your secret key"},validateFields(a)},validateEncryptForm=function(){var a;return removeErrors(),a={"#message-area":"You must enter a message","#secret-key-input":"You must enter a secret key"},validateFields(a)},validateFields=function(a){var b;for(b in a)if(""===$(b).val())return addErrorMessage(b,a[b]),!1;return!0},switchPanes=function(a,b){return $(a).hide(),$(b).show()},removeErrors=function(){return $(".error p").remove(),$(".error").children().unwrap()},addErrorMessage=function(a,b){return $(a).wrap($("<div>").addClass("error")),$(a).parent().prepend($("<p>").append(b))},encryptMessage=function(){var a,b;return b=$("#message-area").val(),a=$("#secret-key-input").val(),window.location.href+"/decode.html?key="+encryptor.encrypt(b,a)},decryptMessage=function(){var a,b,c;return b=$("#secret-key-input").val(),c=window.location.href.indexOf("=")+1,a=window.location.href.slice(c),encryptor.decrypt(a,b)};
//# sourceMappingURL=index.min.js.map